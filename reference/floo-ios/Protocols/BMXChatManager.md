# BMXChatManager Protocol Reference

  **Conforms to** NSObject  
  **Declared in** BMXChatManager.h  

## Overview

Thumbnail generation policy,

## Instance Methods

<a name="//api/name/ackMessage:" title="ackMessage:"></a>
### ackMessage:

Send read receipt

`- (void)ackMessage:(BMXMessageObject *)*message*`

#### Discussion
Send read receipt

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/ackMessageDelivered:" title="ackMessageDelivered:"></a>
### ackMessageDelivered:

Send delivery receipt

`- (void)ackMessageDelivered:(BMXMessageObject *)*message*`

#### Discussion
Send delivery receipt

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/addChatListener:" title="addChatListener:"></a>
### addChatListener:

Add chat listener

`- (void)addChatListener:(id<BMXChatServiceProtocol>)*listener*`

#### Discussion
Add chat listener

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/addDelegate:" title="addDelegate:"></a>
### addDelegate:

`- (void)addDelegate:(id<BMXChatServiceProtocol>)*aDelegate*`

<a name="//api/name/addDelegate:delegateQueue:" title="addDelegate:delegateQueue:"></a>
### addDelegate:delegateQueue:

`- (void)addDelegate:(id<BMXChatServiceProtocol>)*aDelegate* delegateQueue:(dispatch_queue_t)*aQueue*`

<a name="//api/name/deleteConversationByConversationId:synchronize:" title="deleteConversationByConversationId:synchronize:"></a>
### deleteConversationByConversationId:synchronize:

Delete conversation

`- (void)deleteConversationByConversationId:(NSInteger)*conversationId* synchronize:(BOOL)*synchronize*`

#### Discussion
Delete conversation

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/downloadAttachment:" title="downloadAttachment:"></a>
### downloadAttachment:

Downloaded attachments, and download state changes and progress are notified via listener

`- (void)downloadAttachment:(BMXMessageObject *)*message*`

#### Discussion
Downloaded attachments, and download state changes and progress are notified via listener

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/downloadThumbnail:strategy:" title="downloadThumbnail:strategy:"></a>
### downloadThumbnail:strategy:

Downloaded thumbnail, state changes and progress are notified via listener
Thumbnail generation policy, 1 - generated by third-party server, 2 - Generated by local server, default 1.

`- (void)downloadThumbnail:(BMXMessageObject *)*message* strategy:(ThumbnailStrategy)*strategy*`

#### Discussion
Downloaded thumbnail, state changes and progress are notified via listener
Thumbnail generation policy, 1 - generated by third-party server, 2 - Generated by local server, default 1.

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/forwardMessage:" title="forwardMessage:"></a>
### forwardMessage:

Simple forward message, user should first create the forward message via BMXMessagse::createForwardMessage()
*

`- (void)forwardMessage:(BMXMessageObject *)*message*`

#### Discussion
Simple forward message, user should first create the forward message via BMXMessagse::createForwardMessage()
*

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/getAllConversationsUnreadCountWithCompletion:" title="getAllConversationsUnreadCountWithCompletion:"></a>
### getAllConversationsUnreadCountWithCompletion:

Get unread-number for all conversations (unreads for individuals and groups marked as blocked is not counted)

`- (void)getAllConversationsUnreadCountWithCompletion:(void ( ^ ) ( int count ))*aCompletionBlock*`

#### Parameters

*aCompletionBlock*  
   count  

#### Discussion
Get unread-number for all conversations (unreads for individuals and groups marked as blocked is not counted)

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/getAllConversationsWithCompletion:" title="getAllConversationsWithCompletion:"></a>
### getAllConversationsWithCompletion:

Get all conversations

`- (void)getAllConversationsWithCompletion:(void ( ^ ) ( NSArray *conversations ))*aCompletionBlock*`

#### Discussion
Get all conversations

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/getAttachmentDir" title="getAttachmentDir"></a>
### getAttachmentDir

Get attachment saving path

`- (NSString *)getAttachmentDir`

#### Discussion
Get attachment saving path

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/getAttachmentDirForConversationWith:" title="getAttachmentDirForConversationWith:"></a>
### getAttachmentDirForConversationWith:

Get attachment saving path for a conversation

`- (NSString *)getAttachmentDirForConversationWith:(NSString *)*conversationId*`

#### Discussion
Get attachment saving path for a conversation

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/getGroupAckMessageUnreadUserIdListWithMessage:completion:" title="getGroupAckMessageUnreadUserIdListWithMessage:completion:"></a>
### getGroupAckMessageUnreadUserIdListWithMessage:completion:

Get a list of unread user ids for the sent group message

`- (void)getGroupAckMessageUnreadUserIdListWithMessage:(BMXMessageObject *)*message* completion:(void ( ^ ) ( NSArray *groupMemberIdList , BMXError *error ))*aCompletionBlock*`

#### Parameters

*message*  
   Message requiring to get list of unread user ids  

*aCompletionBlock*  
   List of unread user ids for this message, initially passed in as an empty list  

#### Discussion
Get a list of unread user ids for the sent group message

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/getGroupAckMessageUserIdListWithMessage:completion:" title="getGroupAckMessageUserIdListWithMessage:completion:"></a>
### getGroupAckMessageUserIdListWithMessage:completion:

Get the list of user-ids that have read group messages

`- (void)getGroupAckMessageUserIdListWithMessage:(BMXMessageObject *)*message* completion:(void ( ^ ) ( NSArray *groupMemberIdList , BMXError *error ))*aCompletionBlock*`

#### Parameters

*message*  
   Message requiring to get list of read user ids  

*aCompletionBlock*  
   List of read user ids for this message, initially passed in as an empty list  

#### Discussion
Get the list of user-ids that have read group messages

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/getMessage:completion:" title="getMessage:completion:"></a>
### getMessage:completion:

Read a message

`- (void)getMessage:(NSInteger)*messageId* completion:(void ( ^ ) ( BMXMessageObject *message , BMXError *error ))*aCompletionBlock*`

#### Discussion
Read a message

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/insetMessages:completion:" title="insetMessages:completion:"></a>
### insetMessages:completion:

Insert a message

`- (void)insetMessages:(NSArray<BMXMessageObject*> *)*list* completion:(void ( ^ ) ( BMXError *error ))*aCompletionBlock*`

#### Discussion
Insert a message

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/openConversation:type:createIfNotExist:" title="openConversation:type:createIfNotExist:"></a>
### openConversation:type:createIfNotExist:

Launch a conversation

`- (BMXConversation *)openConversation:(NSInteger)*conversationId* type:(BMXConversationType)*type* createIfNotExist:(bool)*create*`

#### Discussion
Launch a conversation

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/readAllMessage:" title="readAllMessage:"></a>
### readAllMessage:

Mark this message and all previous messages as read, and synchronize to all current users' devices

`- (void)readAllMessage:(BMXMessageObject *)*message*`

#### Discussion
Mark this message and all previous messages as read, and synchronize to all current users' devices

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/readCancel:" title="readCancel:"></a>
### readCancel:

Mark this message as unread and synchronize to all devices of the current user

`- (void)readCancel:(BMXMessageObject *)*message*`

#### Discussion
Mark this message as unread and synchronize to all devices of the current user

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/recallMessage:completion:" title="recallMessage:completion:"></a>
### recallMessage:completion:

Recall a message, and the message status change is notified via listener
*

`- (void)recallMessage:(BMXMessageObject *)*message* completion:(void ( ^ ) ( BMXMessageObject *message , BMXError *error ))*aCompletionBlock*`

#### Discussion
Recall a message, and the message status change is notified via listener
*

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/removeChatListener:" title="removeChatListener:"></a>
### removeChatListener:

Remove chat listener

`- (void)removeChatListener:(id<BMXChatServiceProtocol>)*listener*`

#### Discussion
Remove chat listener

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/removeDelegate:" title="removeDelegate:"></a>
### removeDelegate:

`- (void)removeDelegate:(id<BMXChatServiceProtocol>)*aDelegate*`

<a name="//api/name/removeMessage:synchronizeDeviceForce:" title="removeMessage:synchronizeDeviceForce:"></a>
### removeMessage:synchronizeDeviceForce:

Delete this message, which synchronizes to other devices of the current user

`- (void)removeMessage:(BMXMessageObject *)*message* synchronizeDeviceForce:(BOOL)*synchronizeDeviceForce*`

#### Discussion
Delete this message, which synchronizes to other devices of the current user

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/resendMessage:completion:" title="resendMessage:completion:"></a>
### resendMessage:completion:

Resend this message, and the message status change is notified via listener
*

`- (void)resendMessage:(BMXMessageObject *)*message* completion:(void ( ^ ) ( BMXMessageObject *message , BMXError *error ))*aCompletionBlock*`

#### Discussion
Resend this message, and the message status change is notified via listener
*

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/retrieveHistoryBMXconversation:msgId:size:completion:" title="retrieveHistoryBMXconversation:msgId:size:completion:"></a>
### retrieveHistoryBMXconversation:msgId:size:completion:

Pull message history

`- (void)retrieveHistoryBMXconversation:(BMXConversation *)*conversation* msgId:(long long)*msgId* size:(NSUInteger)*size* completion:(void ( ^ ) ( NSArray *messageListms , BMXError *error ))*aCompletionBlock*`

#### Discussion
Pull message history

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/searchMessagesByKeyWords:refTime:size:directionType:completion:" title="searchMessagesByKeyWords:refTime:size:directionType:completion:"></a>
### searchMessagesByKeyWords:refTime:size:directionType:completion:

Search for messages

`- (void)searchMessagesByKeyWords:(NSString *)*keywords* refTime:(NSTimeInterval)*refTime* size:(NSUInteger)*size* directionType:(BMXMessageDirection)*directionType* completion:(void ( ^ ) ( NSArray *array , BMXError *error ))*aCompletionBlock*`

#### Discussion
Search for messages

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/sendMessage:" title="sendMessage:"></a>
### sendMessage:

Send a message, and the message status change is notified via listener
*

`- (void)sendMessage:(BMXMessageObject *)*message*`

#### Discussion
Send a message, and the message status change is notified via listener
*

#### Declared In
* `BMXChatManager.h`

<a name="//api/name/transferingNum" title="transferingNum"></a>
### transferingNum

Number of uploading/downloading files

`- (int)transferingNum`

#### Discussion
Number of uploading/downloading files

#### Declared In
* `BMXChatManager.h`

