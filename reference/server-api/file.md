## 9    File manipulation interface

## 9.1  Download avatar

> GET  /file/download/avatar

### Request Header
|  Parameter name |  Default |  Description | 
|  ------ |  ------ |  ------ | 
| access-token| | Token| | app_id| | App ID| | group_id| | This field can be set only if access-token is an Admin token, means call this interface as an Admin for this group ID| | user_id| | This field can be set only if access-token is a user token, means call this interface as a group member for this user ID| 

### Query Param
|  Parameter name |  Default |  Description | 
|  ------ |  ------ |  ------ | 
| image_type| | Image type, 1: original, 2: thumbnail, 3: cover| 
| object_name| | Object name| 
| sdk_sign| | SDK signature| 
| store_token| | File token| 
| thumbnail_strategy| | Thumbnail generation policy, 1 - generated by third-party server, 2 - generated by local server, default 1| 

### Response Body
● 200 Response data format:JSON


### Interface Description
> 




## 9.2  Download chat file

> GET  /file/download/chat

### Request Header
|  Parameter name |  Default |  Description | 
|  ------ |  ------ |  ------ | 
| access-token| | Token| | app_id| | App ID| | group_id| | This field can be set only if access-token is an Admin token, means call this interface as an Admin for this group ID| | user_id| | This field can be set only if access-token is a user token, means call this interface as a group member for this user ID| 

### Query Param
|  Parameter name |  Default |  Description | 
|  ------ |  ------ |  ------ | 
| file_sign| | File signature| 
| format| | Audio file format to download, amr/mp3, default amr| 
| image_type| | Image type, 1: original, 2: thumbnail, 3: cover| 
| sdk_sign| | SDK signature| 
| source| | Request source, miniprogram, default ‘'| 
| store_token| | File token| 
| thumbnail_strategy| | Thumbnail generation policy, 1 - generated by third-party server, 2 - generated by local server, default 1| 

### Response Body
● 200 Response data format:JSON


### Interface Description
> 




## 9.3  Get the URL of uploading group avatar

> GET  /file/upload/avatar/group

### Request Header
|  Parameter name |  Default |  Description | 
|  ------ |  ------ |  ------ | 
| access-token| | Token| | app_id| | App ID| | user_id| | This field can be set only if access-token is a user token, means call this interface as a group member for this user ID| 

### Query Param
|  Parameter name |  Default |  Description | 
|  ------ |  ------ |  ------ | 
| group_id| | group_id| 

### Response Body
● 200 Response data format:JSON
|  Parameter name |  Type |  Default |  Not null |  Description | 
|  ------ |  ------ |  ------ |  ------ |  ------ | 
|  code| int32| | false| Return code, 200 is success| 
|  data| object| | false| | 
| ⇥ download_url| string| | false| | 
| ⇥ oss_body_param| object| | false| | 
| ⇥ upload_url| string| | false| | 
|  message| string| | false| Error information, null means success| 


### Interface Description
> 




## 9.4  Get the URL of uploading user avatar

> GET  /file/upload/avatar/user

### Request Header
|  Parameter name |  Default |  Description | 
|  ------ |  ------ |  ------ | 
| access-token| | Token| | app_id| | App ID| | group_id| | This field can be set only if access-token is an Admin token, means call this interface as an Admin for this group ID| | user_id| | This field can be set only if access-token is a user token, means call this interface as a group member for this user ID| 

### Response Body
● 200 Response data format:JSON
|  Parameter name |  Type |  Default |  Not null |  Description | 
|  ------ |  ------ |  ------ |  ------ |  ------ | 
|  code| int32| | false| Return code, 200 is success| 
|  data| object| | false| | 
| ⇥ download_url| string| | false| | 
| ⇥ oss_body_param| object| | false| | 
| ⇥ upload_url| string| | false| | 
|  message| string| | false| Error information, null means success| 


### Interface Description
> 




## 9.5  Get the URL of uploading chat file

> GET  /file/upload/chat

### Request Header
|  Parameter name |  Default |  Description | 
|  ------ |  ------ |  ------ | 
| access-token| | Token| | app_id| | App ID| | group_id| | This field can be set only if access-token is an Admin token, means call this interface as an Admin for this group ID| | user_id| | This field can be set only if access-token is a user token, means call this interface as a group member for this user ID| 

### Query Param
|  Parameter name |  Default |  Description | 
|  ------ |  ------ |  ------ | 
| file_type| | File Type  100: plain chat file, 101: voice chat file (in .amr), 102: picture chat file, 103: video chat file, 104: voice chat file (in .mp3), 200: shared plain file, 201: shared voice file, 202: shared picture file, 203: shared video file| 
| to_id| | to_id| 
| to_type| | 1: User,2: Group| 

### Response Body
● 200 Response data format:JSON
|  Parameter name |  Type |  Default |  Not null |  Description | 
|  ------ |  ------ |  ------ |  ------ |  ------ | 
|  code| int32| | false| Return code, 200 is success| 
|  data| object| | false| | 
| ⇥ download_url| string| | false| | 
| ⇥ oss_body_param| object| | false| | 
| ⇥ upload_url| string| | false| | 
|  message| string| | false| Error information, null means success| 


### Interface Description
> 




## 9.6  Get the URL of forwarded chat file

> GET  /file/upload/forward

### Request Header
|  Parameter name |  Default |  Description | 
|  ------ |  ------ |  ------ | 
| access-token| | Token| | app_id| | App ID| | group_id| | This field can be set only if access-token is an Admin token, means call this interface as an Admin for this group ID| | user_id| | This field can be set only if access-token is a user token, means call this interface as a group member for this user ID| 

### Query Param
|  Parameter name |  Default |  Description | 
|  ------ |  ------ |  ------ | 
| file_sign| | File signature| 
| to_id| | to_id| 
| to_type| | 1: User,2: Group| 

### Response Body
● 200 Response data format:JSON
|  Parameter name |  Type |  Default |  Not null |  Description | 
|  ------ |  ------ |  ------ |  ------ |  ------ | 
|  code| int32| | false| Return code, 200 is success| 
|  data| string| | false| Result data| 
|  message| string| | false| Error information, null means success| 


### Interface Description
> 
